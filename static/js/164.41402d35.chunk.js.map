{"version":3,"file":"static/js/164.41402d35.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/HomePage/HomePage.module.css?b0f5","components/HomePage/HomePage.js","webpack://goit-react-hw-05-movies/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.js","webpack://goit-react-hw-05-movies/./src/components/Scrollup/Scrollup.module.css?781e","components/Scrollup/Scrollup.js","services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"HomePage_title__Iqtik\"};","import { fetchTrending } from '../../services/movies-api';\nimport { useState, useEffect } from 'react';\nimport Loader from './../Loader/Loader';\nimport Button from './../Button/Button';\nimport Scrollup from './../Scrollup/Scrollup';\nimport * as Scroll from 'react-scroll';\nimport MoviesGallery from './../MoviesGallery/MoviesGallery';\nimport s from './HomePage.module.css';\n\nexport default function HomePage() {\n   const [moviesList, setMoviesList] = useState([]);\n   const [countPage, setCountPage] = useState(1);\n   const [showLoadMore, setShowLoadMore] = useState(true);\n   const [loading, setLoading] = useState(false);\n\n   useEffect(() => {\n      setShowLoadMore(false);\n      setLoading(true);\n      fetchTrending(countPage).then(date => {\n         setMoviesList(prev => {\n            const filterRes = date.results.filter(({ id }) => {\n               for (const movie of prev) {\n                  if (id === movie.id) {\n                     return false;\n                  }\n               }\n               return true;\n            });\n            return [...prev, ...filterRes];\n         });\n         setLoading(false);\n         setShowLoadMore(true);\n      });\n   }, [countPage]);\n\n   const onloadeMore = () => {\n      setCountPage(prev => prev + 1);\n      scrollSlowly();\n   };\n\n   const scrollSlowly = () => {\n      const { height: cardHeight } = document\n         .querySelector('#MoviesGallery')\n         .firstElementChild.getBoundingClientRect();\n      Scroll.animateScroll.scrollMore(cardHeight * 2);\n   };\n\n   return (\n      <div>\n         <h1 className={s.title}>Trending today</h1>\n         <MoviesGallery moviesList={moviesList} />\n         {loading && <Loader />}\n         {showLoadMore && <Button onClick={onloadeMore} title=\"Load more\" />}\n         <Scrollup />\n      </div>\n   );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"MovieGrid\":\"MoviesGallery_MovieGrid__j7Vkq\",\"Item\":\"MoviesGallery_Item__M1y35\",\"Link\":\"MoviesGallery_Link__-IlD5\",\"Img\":\"MoviesGallery_Img__k6Gw6\",\"title\":\"MoviesGallery_title__uAO6V\"};","import React from 'react';\nimport { URL_IMG } from '../../services/movies-api';\nimport { Link } from 'react-router-dom';\nimport s from './MoviesGallery.module.css';\nimport defaultImg from '../../images/default-movie.png';\nimport PropTypes from 'prop-types';\n\nexport default function MoviesGallery({ moviesList }) {\n   return (\n      <ul id=\"MoviesGallery\" className={s.MovieGrid}>\n         {moviesList.map(({ id, title, name, poster_path }) => (\n            <li key={id} className={s.Item}>\n               <Link to={`/movies/${id}`} className={s.Link}>\n                  <img\n                     className={s.Img}\n                     src={poster_path ? URL_IMG + poster_path : defaultImg}\n                     alt={title || name}\n                  />\n                  <p className={s.title}>{title || name}</p>\n               </Link>\n            </li>\n         ))}\n      </ul>\n   );\n}\n\nMoviesGallery.propTypes = {\n   moviesList: PropTypes.arrayOf(\n      PropTypes.shape({\n         id: PropTypes.number.isRequired,\n         title: PropTypes.string,\n         name: PropTypes.string,\n         poster_path: PropTypes.string,\n      })\n   ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"Scrollup\":\"Scrollup_Scrollup__f4kL-\"};","import s from './Scrollup.module.css';\n\nexport default function Scrollup() {\n   //Get the button:\n   const mybutton = document.getElementById('myBtn');\n\n   // When the user scrolls down 20px from the top of the document, show the button\n   window.onscroll = () => scrollFunction();\n\n   function scrollFunction() {\n      if (\n         document.body.scrollTop > 20 ||\n         document.documentElement.scrollTop > 20\n      ) {\n         mybutton.style.display = 'block';\n      } else {\n         mybutton.style.display = 'none';\n      }\n   }\n\n   // When the user clicks on the button, scroll to the top of the document\n   const onUp = () => {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n   };\n\n   return (\n      <button\n         id=\"myBtn\"\n         type=\"button\"\n         className={s.Scrollup}\n         onClick={onUp}\n      ></button>\n   );\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst MY_KEY = '2638d702e8992f774e165b094b88cb75';\n\nexport const URL_IMG = 'https://image.tmdb.org/t/p/w500';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n   const response = await fetch(url, config);\n   return response.ok\n      ? await response.json()\n      : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending(page = 1) {\n   return fetchWithErrorHandling(\n      `${BASE_URL}/trending/all/day?api_key=${MY_KEY}&page=${page}`\n   );\n}\n\nexport function fetchSearchMovie(query, page = 1) {\n   return fetchWithErrorHandling(\n      `${BASE_URL}/search/movie?api_key=${MY_KEY}&language=en-US&query=${query}&page=1&include_adult=false&page=${page}`\n   );\n}\n\nexport function fetchMovieDetailsById(id) {\n   return fetchWithErrorHandling(`${BASE_URL}/movie/${id}?api_key=${MY_KEY}`);\n}\n\nexport function fetchMovieCreditsById(id) {\n   return fetchWithErrorHandling(\n      `${BASE_URL}/movie/${id}/credits?api_key=${MY_KEY}&language=en-US`\n   );\n}\n\nexport function fetchMovieReviewsById(id) {\n   return fetchWithErrorHandling(\n      `${BASE_URL}/movie/${id}/reviews?api_key=${MY_KEY}&language=en-US`\n   );\n}\n"],"names":["HomePage","useState","moviesList","setMoviesList","countPage","setCountPage","showLoadMore","setShowLoadMore","loading","setLoading","useEffect","fetchTrending","then","date","prev","filterRes","results","filter","id","scrollSlowly","cardHeight","document","querySelector","firstElementChild","getBoundingClientRect","height","Scroll","className","s","MoviesGallery","Loader","Button","onClick","title","Scrollup","map","name","poster_path","to","src","URL_IMG","defaultImg","alt","mybutton","getElementById","window","onscroll","body","scrollTop","documentElement","style","display","type","scrollTo","top","behavior","BASE_URL","MY_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","page","fetchSearchMovie","query","fetchMovieDetailsById","fetchMovieCreditsById","fetchMovieReviewsById"],"sourceRoot":""}