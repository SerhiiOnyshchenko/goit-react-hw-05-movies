"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[936],{6369:function(t,e,n){n.d(e,{Z:function(){return f}});n(2791);var r=n(1207),a=n(3504),o="MoviesGallery_MovieGrid__j7Vkq",c="MoviesGallery_Item__M1y35",i="MoviesGallery_Link__-IlD5",s="MoviesGallery_Img__k6Gw6",u="MoviesGallery_title__uAO6V",l=n(3641),A=n(184);function f(t){var e=t.moviesList;return(0,A.jsx)("ul",{id:"MoviesGallery",className:o,children:e.map((function(t){var e=t.id,n=t.title,o=t.name,f=t.poster_path;return(0,A.jsx)("li",{className:c,children:(0,A.jsxs)(a.rU,{to:"/movies/".concat(e),className:i,children:[(0,A.jsx)("img",{className:s,src:f?r.UB+f:l,alt:n||o}),(0,A.jsx)("p",{className:u,children:n||o})]})},e)}))})}},3936:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var r=n(8683),a=n(2982),o=n(7762),c=n(885),i=n(2791),s=n(1207),u="Searchbar_Searchbar__5WKzV",l="Searchbar_SearchForm__XuPyK",A="Searchbar_SearchFormButton__dksRa",f="Searchbar_SearchFormButtonLabel__7AAWA",d="Searchbar_SearchFormInput__FT6Bx",v=n(184);function m(t){var e=t.onSubmit,n=(0,i.useState)(""),r=(0,c.Z)(n,2),a=r[0],o=r[1];return(0,v.jsx)("div",{className:u,children:(0,v.jsxs)("form",{className:l,onSubmit:function(t){t.preventDefault(),e(a),o("")},children:[(0,v.jsx)("button",{type:"submit",className:A}),(0,v.jsx)("label",{className:f}),(0,v.jsx)("input",{className:d,type:"text",autoComplete:"off",autoFocus:!0,value:a,onChange:function(t){return o(t.target.value)},placeholder:"Search movies"})]})})}var h=n(1421),p=n(3307),y=n(7606),b=n(6369),_=n(5667),x=n(5562),g=n.n(x),S=n(6871);function j(){var t,e=(0,S.s0)(),n=(0,S.TH)(),u=(0,i.useState)(null!==(t=n.state)&&void 0!==t?t:""),l=(0,c.Z)(u,2),A=l[0],f=l[1],d=(0,i.useState)(1),x=(0,c.Z)(d,2),j=x[0],k=x[1],N=(0,i.useState)([]),B=(0,c.Z)(N,2),L=B[0],q=B[1],w=(0,i.useState)(!1),U=(0,c.Z)(w,2),Z=U[0],E=U[1],M=(0,i.useState)(!1),V=(0,c.Z)(M,2),O=V[0],X=V[1];(0,i.useEffect)((function(){n.state||E(!1),f(n.state),k(1),q([])}),[n.state]),(0,i.useEffect)((function(){A&&(E(!1),X(!0),(0,s.Ai)(A,j).then((function(t){q((function(e){var n=t.results.filter((function(t){var n,r=t.id,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){if(r===n.value.id)return!1}}catch(c){a.e(c)}finally{a.f()}return!0}));return[].concat((0,a.Z)(e),(0,a.Z)(n))})),X(!1),t.total_results!==t.results.length&&E(!0),1===j&&g().Notify.success("Hooray! We found ".concat(t.total_results," movies.")),t.total_results<=20*j&&(E(!1),g().Notify.info("We're sorry, but you've reached the end of search results."))})).catch(C))}),[j,A]);var C=function(){g().Notify.failure("Sorry, there are no movies matching your search query. Please try again."),E(!1),X(!1)},H=function(){var t=document.querySelector("#MoviesGallery").firstElementChild.getBoundingClientRect().height;_.NY.scrollMore(2*t)};return(0,v.jsxs)("div",{children:[(0,v.jsx)(m,{onSubmit:function(t){t||(g().Notify.failure("Please. Enter the name of the movie."),E(!1)),A===t&&1===j||(e((0,r.Z)((0,r.Z)({},n),{},{search:"query=".concat(t)}),{state:t}),f(t),k(1),q([]))}}),(0,v.jsx)(b.Z,{moviesList:L}),O&&(0,v.jsx)(h.Z,{}),Z&&(0,v.jsx)(p.Z,{onClick:function(){k((function(t){return t+1})),H()},title:"Load more"}),(0,v.jsx)(y.Z,{})]})}g().Notify.init({position:"left-top"})},7606:function(t,e,n){n.d(e,{Z:function(){return o}});var r="Scrollup_Scrollup__f4kL-",a=n(184);function o(){var t=document.getElementById("myBtn");window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"};return(0,a.jsx)("button",{id:"myBtn",type:"button",className:r,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}})}},1207:function(t,e,n){n.d(e,{Ai:function(){return f},Sg:function(){return d},Tg:function(){return A},UB:function(){return s},hC:function(){return v},oJ:function(){return m}});var r=n(5861),a=n(7757),o=n.n(a),c="https://api.themoviedb.org/3",i="2638d702e8992f774e165b094b88cb75",s="https://image.tmdb.org/t/p/w500";function u(){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(o().mark((function t(){var e,n,r,a=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},t.next=4,fetch(e,n);case 4:if(!(r=t.sent).ok){t.next=11;break}return t.next=8,r.json();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=Promise.reject(new Error("Not found"));case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return u("".concat(c,"/trending/all/day?api_key=").concat(i,"&page=").concat(t))}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return u("".concat(c,"/search/movie?api_key=").concat(i,"&language=en-US&query=").concat(t,"&page=1&include_adult=false&page=").concat(e))}function d(t){return u("".concat(c,"/movie/").concat(t,"?api_key=").concat(i))}function v(t){return u("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(i,"&language=en-US"))}function m(t){return u("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(i,"&language=en-US"))}},3641:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAAETCAMAAABDSmfhAAAAM1BMVEX///+xsbGurq6rq6vLy8vd3d3S0tK3t7e+vr74+Pjx8fHo6Oj7+/vk5OTX19fu7u6lpaU4yvYiAAADZ0lEQVR4nO3bi26jMBCF4XrMxUCAff+nXQMBTIENYZEv0v+pq64cRTpyx/aYpj8/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgrvoVOsE9Jg+d4B5tQie4pRCpQ2e4zClppaQLF+Qbr9asSXOtVBkwzGVNJlrW+S5FKd0HzHNJ1RktbmE0drqVRL4yWyN2dm3Oahky44AOGOqzUo8hlWTLUK3HEV39422hNVNGm3Ld97Jp/iVgrI+mkthUczsMiVYxr8te5ulupoEqH/YSEdOEDXbEOV+yebqn3XpYoyLa5BGWdp+tJVHN0y2tXY6F0ja0yiIskLootV5LoJhzq6Yth6kW0wZMd6Ydz5d1ul/zZjJU9BC6i7I+pq1a1hntxMkdZX3YktBzyHWsXFLbpRjnBWddgb/akCF0WURYH5N8KeUlYmWmAolyKc6WipjbELtGx1Mxxq16tbQh0/Wrzt5bdeyXMeNMdzWdirY+4lyKjn6Z7rzPxtCqi32qB5m7UdsbWZxb9U61xo54q95b2hCRskihPt7mHjvKrvpcN11gyri36r1SpbBV7+Q6ha16r0xiq36rTWnS2KQ3ansiSvxP+HbGA9J5BJWKKff7JtnmedvaL/sv35R6v77Qbnf24YVB7nlpbOa70Stxa+dlnFc2z+mLP/Ow30vFyx6Oerna9MqxKXqzdi7b4N3cQXp+fF/lmfNQoXcbq82P/nPwoDt/7Qb/asYlbHNQf18q76t04JP2do2H7hDqmzUeOvfdGg/f/Lo1fj148Pn+tTgvlopEkHt7Qd4GV2fB/dXJqzjlTrhyxjsnt+1rnFc89ma1ljOb3Nde8FcntVYP8pe7ejS3v/p+Njd14jd3qnWSau5U6yTR3B7vO0d1Mn7OwX7p+dvwP9Hr4DQS23xLll9hDoIHzX3xs1L9wU8q6Dn/H7mD1vfF3E1sdaLMJeX+jaH3wdOW/LQL956b85Lc/nPTD35CnQwC94Nab5o/+fVtbAd12H7wILdkzRUmaO5U+8Fnc4ftB6/9/jS+flCVVxy8L3Tu21LNzTn/CXUyoE4+SbVOHp1vn58/ObyXJ5A7ey649vlnxtXxk5AbPP/Ra23Of/X6DW18/3a+yR5QpPfBSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADP+QuQkyZhHUlqdwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=936.330fb229.chunk.js.map